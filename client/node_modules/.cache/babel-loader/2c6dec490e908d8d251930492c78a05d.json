{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define(\"react-coinbase-commerce\", [\"React\"], t) : \"object\" == typeof exports ? exports[\"react-coinbase-commerce\"] = t(require(\"react\")) : e[\"react-coinbase-commerce\"] = t(e.React);\n}(window, function (e) {\n  return function (e) {\n    var t = {};\n\n    function n(o) {\n      if (t[o]) return t[o].exports;\n      var r = t[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, o) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: o\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var o = Object.create(null);\n      if (n.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) {\n        n.d(o, r, function (t) {\n          return e[t];\n        }.bind(null, r));\n      }\n      return o;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"/dist/\", n(n.s = 1);\n  }([function (t, n) {\n    t.exports = e;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var o = t[n];\n          o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n        }\n      }\n\n      return function (t, n, o) {\n        return n && e(t.prototype, n), o && e(t, o), t;\n      };\n    }(),\n        r = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = arguments[t];\n\n        for (var o in n) {\n          Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n        }\n      }\n\n      return e;\n    },\n        a = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    }(n(0)),\n        c = u(n(2)),\n        i = u(n(5));\n\n    function u(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    var l = function (e) {\n      function t(e) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        var n = function (e, t) {\n          if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n\n        return n.handleButtonClick = function () {\n          n.setState({\n            showModal: !0\n          });\n        }, n.handleModalClose = function () {\n          n.setState({\n            showModal: !1\n          }), n.props.onModalClosed && n.props.onModalClosed();\n        }, n.handleError = function (e) {\n          console.error(e), n.setState({\n            showModal: !1\n          });\n        }, n.state = {\n          showModal: !1\n        }, n;\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }(t, a.Component), o(t, [{\n        key: \"render\",\n        value: function value() {\n          var e = this.state.showModal,\n              t = this.props,\n              n = t.onLoad,\n              o = t.onChargeSuccess,\n              u = t.onChargeFailure,\n              l = t.checkoutId,\n              s = t.chargeId,\n              f = t.customMetadata,\n              d = {\n            onLoad: n,\n            onChargeSuccess: o,\n            onChargeFailure: u,\n            checkoutId: l,\n            chargeId: s,\n            onPaymentDetected: t.onPaymentDetected,\n            disableCaching: t.disableCaching\n          },\n              p = function (e) {\n            var t = r({}, e);\n            return [\"onLoad\", \"onChargeSuccess\", \"onChargeFailure\", \"customMetadata\", \"onPaymentDetected\", \"checkoutId\", \"chargeId\", \"disableCaching\"].forEach(function (e) {\n              return delete t[e];\n            }), t;\n          }(this.props);\n\n          return a.createElement(\"div\", null, a.createElement(\"a\", {\n            href: \"https://commerce.coinbase.com\",\n            rel: \"external\",\n            title: \"Pay with Bitcoin, Bitcoin Cash, Litecoin, or Ethereum\",\n            onClick: function onClick(e) {\n              return e.preventDefault();\n            }\n          }, a.createElement(c.default, r({}, p, {\n            onClick: this.handleButtonClick\n          }))), e && a.createElement(i.default, r({}, d, {\n            onModalClose: this.handleModalClose,\n            onError: this.handleError,\n            customMetadata: f\n          })));\n        }\n      }]), t;\n    }();\n\n    t.default = l;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = arguments[t];\n\n        for (var o in n) {\n          Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n        }\n      }\n\n      return e;\n    },\n        r = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var o = t[n];\n          o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n        }\n      }\n\n      return function (t, n, o) {\n        return n && e(t.prototype, n), o && e(t, o), t;\n      };\n    }(),\n        a = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    }(n(0));\n\n    n(3);\n\n    var c = function (e) {\n      function t() {\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), function (e, t) {\n          if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n        }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }(t, a.PureComponent), r(t, [{\n        key: \"render\",\n        value: function value() {\n          var e = this.props,\n              t = e.styled,\n              n = e.children,\n              r = function (e, t) {\n            var n = {};\n\n            for (var o in e) {\n              t.indexOf(o) >= 0 || Object.prototype.hasOwnProperty.call(e, o) && (n[o] = e[o]);\n            }\n\n            return n;\n          }(e, [\"styled\", \"children\"]);\n\n          return a.createElement(\"button\", o({}, r, {\n            className: t ? \"coinbase-commerce-button\" : r.className\n          }), n || \"Buy With Crypto\");\n        }\n      }]), t;\n    }();\n\n    t.default = c;\n  }, function (e, t, n) {},, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function e(e, t) {\n        for (var n = 0; n < t.length; n++) {\n          var o = t[n];\n          o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n        }\n      }\n\n      return function (t, n, o) {\n        return n && e(t.prototype, n), o && e(t, o), t;\n      };\n    }(),\n        r = function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    }(n(0)),\n        a = n(6);\n\n    n(7), n(9);\n\n    var c = function (e) {\n      function t(e) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        var n = function (e, t) {\n          if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n\n        return n.buildSrc = function () {\n          var e = n.props,\n              t = e.checkoutId,\n              o = e.chargeId,\n              r = e.customMetadata,\n              a = e.disableCaching;\n          var c = void 0,\n              i = void 0;\n          if (t) i = t, c = \"checkout\";else {\n            if (!o) throw new Error(\"must supply either checkoutId or chargeId prop\");\n            i = o, c = \"charges\";\n          }\n          var u = {\n            origin: n.hostName,\n            version: \"1.3.1\",\n            buttonId: n.uuid,\n            cacheDisabled: a\n          },\n              l = \"\";\n          return r && \"string\" != typeof r ? console.error('Received customMetadata not of \"string\" type. Ignoring.') : r && (l = r), l && (u.custom = l), n.origin + \"/embed/\" + c + \"/\" + encodeURI(i) + \"?\" + function (e) {\n            var t = [],\n                n = window.encodeURIComponent;\n\n            for (var o in e) {\n              e.hasOwnProperty(o) && t.push(n(o) + \"=\" + n(e[o]));\n            }\n\n            return t.join(\"&\");\n          }(u);\n        }, n.isValidMessage = function (e) {\n          return e.origin === n.origin && e.data.buttonId === n.uuid;\n        }, n.handleMessage = function (e) {\n          if (n.isValidMessage(e)) {\n            var t = n.props,\n                o = t.onChargeSuccess,\n                r = t.onChargeFailure,\n                a = t.onModalClose,\n                c = t.onError,\n                i = t.onPaymentDetected;\n\n            switch (e.data.event) {\n              case \"charge_confirmed\":\n                o && o(e.data);\n                break;\n\n              case \"charge_failed\":\n                r && r(e.data);\n                break;\n\n              case \"payment_detected\":\n                i && i(e.data);\n                break;\n\n              case \"error_not_found\":\n                c(e.data);\n                break;\n\n              case \"checkout_modal_closed\":\n                a();\n            }\n          }\n        }, n.handleIFrameLoaded = function () {\n          n.setState({\n            loading: !1\n          }), n.props.onLoad && n.props.onLoad();\n        }, n.origin = \"https://commerce.coinbase.com\", n.uuid = (0, a.generateUUID)(), n.hostName = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? \":\" + window.location.port : \"\"), n.state = {\n          loading: !0\n        }, n;\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }(t, r.Component), o(t, [{\n        key: \"componentDidMount\",\n        value: function value() {\n          window.addEventListener(\"message\", this.handleMessage);\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function value() {\n          window.removeEventListener(\"message\", this.handleMessage);\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          var e = this.buildSrc();\n          return r.createElement(\"div\", {\n            className: \"coinbase-commerce-iframe-container\"\n          }, this.state.loading ? r.createElement(\"div\", {\n            className: \"commerce-loading-spinner\"\n          }) : null, r.createElement(\"iframe\", {\n            onLoad: this.handleIFrameLoaded,\n            className: \"coinbase-commerce-iframe\",\n            src: e,\n            scrolling: \"no\",\n            frameBorder: \"no\"\n          }));\n        }\n      }]), t;\n    }();\n\n    t.default = c;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    t.generateUUID = function () {\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (e) {\n        var t = 16 * Math.random() | 0;\n        return (\"x\" === e ? t : 3 & t | 8).toString(16);\n      });\n    };\n  }, function (e, t, n) {},, function (e, t, n) {}]);\n});","map":null,"metadata":{},"sourceType":"script"}