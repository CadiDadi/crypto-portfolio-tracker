{"ast":null,"code":"import _toConsumableArray from \"/Users/student/dev/crypto-portfolio-tracker/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/student/dev/crypto-portfolio-tracker/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/student/dev/crypto-portfolio-tracker/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/student/dev/crypto-portfolio-tracker/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/student/dev/crypto-portfolio-tracker/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/student/dev/crypto-portfolio-tracker/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/student/dev/crypto-portfolio-tracker/client/src/context/InvestmentProvider.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nvar InvestmentContext = React.createContext();\n\nvar InvestmentProvider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(InvestmentProvider, _Component);\n\n  function InvestmentProvider() {\n    var _this;\n\n    _classCallCheck(this, InvestmentProvider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InvestmentProvider).call(this));\n\n    _this.getInvestments = function () {\n      axios.get('/portfolio').then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          currentInvestments: response.data.investments,\n          cryptoPriceGet: response.data.cryptoPriceGet\n        });\n      }).catch(function (err) {\n        return console.log(err.response.data.errMsg);\n      });\n    };\n\n    _this.addInvestment = function (newInvestment) {\n      axios.post('/portfolio', newInvestment).then(function (response) {\n        _this.setState(function (prevState) {\n          return {\n            currentInvestments: [].concat(_toConsumableArray(prevState.currentInvestments), [response.data])\n          };\n        });\n      }).catch(function (err) {\n        return console.log(err.response.data.errMsg);\n      });\n    };\n\n    _this.handleDeleteRouter = function (id) {\n      axios.delete(\"/portfolio/\".concat(id));\n    };\n\n    _this.state = {\n      currentInvestments: [],\n      cryptoPriceGet: []\n    };\n    return _this;\n  }\n\n  _createClass(InvestmentProvider, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(InvestmentContext.Provider, {\n        value: {\n          currentInvestments: this.state.currentInvestments,\n          cryptoPriceGet: this.state.cryptoPriceGet,\n          getInvestments: this.getInvestments,\n          addInvestment: this.addInvestment\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, this.props.children);\n    }\n  }]);\n\n  return InvestmentProvider;\n}(Component);\n\nexport default InvestmentProvider;\nexport var withInvestments = function withInvestments(C) {\n  return function (props) {\n    return React.createElement(InvestmentContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, function (value) {\n      return React.createElement(C, Object.assign({}, props, value, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/student/dev/crypto-portfolio-tracker/client/src/context/InvestmentProvider.js"],"names":["React","Component","axios","InvestmentContext","createContext","InvestmentProvider","getInvestments","get","then","response","console","log","setState","currentInvestments","data","investments","cryptoPriceGet","catch","err","errMsg","addInvestment","newInvestment","post","prevState","handleDeleteRouter","id","delete","state","props","children","withInvestments","C","value"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,iBAAiB,GAAGH,KAAK,CAACI,aAAN,EAA1B;;IAEMC,kB;;;;;AACF,gCAAc;AAAA;;AAAA;;AACV;;AADU,UAQdC,cARc,GAQG,YAAM;AACnBJ,MAAAA,KAAK,CAACK,GAAN,CAAU,YAAV,EAAwBC,IAAxB,CAA6B,UAAAC,QAAQ,EAAI;AACrCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,cAAKG,QAAL,CAAc;AACVC,UAAAA,kBAAkB,EAAEJ,QAAQ,CAACK,IAAT,CAAcC,WADxB;AAEVC,UAAAA,cAAc,EAAEP,QAAQ,CAACK,IAAT,CAAcE;AAFpB,SAAd;AAIH,OAND,EAOCC,KAPD,CAOO,UAAAC,GAAG;AAAA,eAAIR,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACT,QAAJ,CAAaK,IAAb,CAAkBK,MAA9B,CAAJ;AAAA,OAPV;AAQH,KAjBa;;AAAA,UAmBdC,aAnBc,GAmBE,UAAAC,aAAa,EAAI;AAC7BnB,MAAAA,KAAK,CAACoB,IAAN,CAAW,YAAX,EAAyBD,aAAzB,EAAwCb,IAAxC,CAA6C,UAAAC,QAAQ,EAAI;AACrD,cAAKG,QAAL,CAAc,UAAAW,SAAS;AAAA,iBAAK;AACxBV,YAAAA,kBAAkB,+BAAMU,SAAS,CAACV,kBAAhB,IAAoCJ,QAAQ,CAACK,IAA7C;AADM,WAAL;AAAA,SAAvB;AAGH,OAJD,EAKCG,KALD,CAKO,UAAAC,GAAG;AAAA,eAAIR,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACT,QAAJ,CAAaK,IAAb,CAAkBK,MAA9B,CAAJ;AAAA,OALV;AAMH,KA1Ba;;AAAA,UA4BdK,kBA5Bc,GA4BO,UAACC,EAAD,EAAO;AACxBvB,MAAAA,KAAK,CAACwB,MAAN,sBAA2BD,EAA3B;AACH,KA9Ba;;AAEV,UAAKE,KAAL,GAAa;AACTd,MAAAA,kBAAkB,EAAE,EADX;AAETG,MAAAA,cAAc,EAAE;AAFP,KAAb;AAFU;AAMb;;;;6BA0BO;AACJ,aACI,oBAAC,iBAAD,CAAmB,QAAnB;AACI,QAAA,KAAK,EAAE;AACHH,UAAAA,kBAAkB,EAAE,KAAKc,KAAL,CAAWd,kBAD5B;AAEHG,UAAAA,cAAc,EAAE,KAAKW,KAAL,CAAWX,cAFxB;AAGHV,UAAAA,cAAc,EAAE,KAAKA,cAHlB;AAIHc,UAAAA,aAAa,EAAE,KAAKA;AAJjB,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOM,KAAKQ,KAAL,CAAWC,QAPjB,CADJ;AAWH;;;;EA7C4B5B,S;;AAgDjC,eAAeI,kBAAf;AAEA,OAAO,IAAMyB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,CAAC;AAAA,SAAI,UAAAH,KAAK;AAAA,WACrC,oBAAC,iBAAD,CAAmB,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,UAAAI,KAAK;AAAA,aAAI,oBAAC,CAAD,oBAAOJ,KAAP,EAAkBI,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAJ;AAAA,KADV,CADqC;AAAA,GAAT;AAAA,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\nconst InvestmentContext = React.createContext()\n\nclass InvestmentProvider extends Component {\n    constructor() {\n        super()\n        this.state = {\n            currentInvestments: [],\n            cryptoPriceGet: []\n        }\n    }\n\n    getInvestments = () => {\n        axios.get('/portfolio').then(response => {\n            console.log(response)\n            this.setState({\n                currentInvestments: response.data.investments,\n                cryptoPriceGet: response.data.cryptoPriceGet\n            })\n        })\n        .catch(err => console.log(err.response.data.errMsg))\n    }\n\n    addInvestment = newInvestment => {\n        axios.post('/portfolio', newInvestment).then(response => {\n            this.setState(prevState => ({\n                currentInvestments: [...prevState.currentInvestments, response.data]\n            }))\n        })\n        .catch(err => console.log(err.response.data.errMsg))\n    }\n\n    handleDeleteRouter = (id) =>{\n        axios.delete(`/portfolio/${id}`)\n    }\n\n    render(){\n        return(\n            <InvestmentContext.Provider\n                value={{\n                    currentInvestments: this.state.currentInvestments,\n                    cryptoPriceGet: this.state.cryptoPriceGet,\n                    getInvestments: this.getInvestments,\n                    addInvestment: this.addInvestment\n                }}>\n                { this.props.children }\n            </InvestmentContext.Provider>\n        )\n    }\n}\n\nexport default InvestmentProvider\n\nexport const withInvestments = C => props => (\n    <InvestmentContext.Consumer>\n        {value => <C {...props} {...value} />}\n    </InvestmentContext.Consumer>\n)\n\n\n"]},"metadata":{},"sourceType":"module"}